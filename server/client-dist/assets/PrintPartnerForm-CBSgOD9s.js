import{r as m,j as e,B as Z,U as ue,L as F,b as ee,c as W,m as q,P as B,X as se,C as D,M as xe,d as te,e as he,F as fe,f as be,A as ge}from"./index-CWNmoqdY.js";const Ne={"+1":{pattern:/^\d{10}$/,minLength:10,maxLength:10,example:"1234567890"},"+91":{pattern:/^[6-9]\d{9}$/,minLength:10,maxLength:10,example:"9876543210"},"+55":{pattern:/^[1-9]\d{10}$/,minLength:11,maxLength:11,example:"11987654321"},"+44":{pattern:/^[1-9]\d{9,10}$/,minLength:10,maxLength:11,example:"7123456789"},"+61":{pattern:/^[2-9]\d{8}$/,minLength:9,maxLength:9,example:"412345678"},"+971":{pattern:/^[2-9]\d{8}$/,minLength:9,maxLength:9,example:"501234567"},"+86":{pattern:/^1[3-9]\d{9}$/,minLength:11,maxLength:11,example:"13800138000"},"+81":{pattern:/^[789]0\d{8}$|^[789]\d{9}$/,minLength:10,maxLength:11,example:"9012345678"},"+49":{pattern:/^[1-9]\d{10,11}$/,minLength:11,maxLength:12,example:"15123456789"},"+33":{pattern:/^[67]\d{8}$/,minLength:9,maxLength:9,example:"612345678"},"+7":{pattern:/^[3-9]\d{9}$/,minLength:10,maxLength:10,example:"9123456789"},"+65":{pattern:/^[689]\d{7}$/,minLength:8,maxLength:8,example:"91234567"},"+60":{pattern:/^[1-9]\d{8,9}$/,minLength:9,maxLength:10,example:"123456789"},"+66":{pattern:/^[689]\d{8}$/,minLength:9,maxLength:9,example:"812345678"},"+82":{pattern:/^[1-9]\d{9,10}$/,minLength:10,maxLength:11,example:"1012345678"},"+34":{pattern:/^[6-9]\d{8}$/,minLength:9,maxLength:9,example:"612345678"},"+39":{pattern:/^[3]\d{9}$/,minLength:10,maxLength:10,example:"3123456789"},"+31":{pattern:/^[6]\d{8}$/,minLength:9,maxLength:9,example:"612345678"},"+46":{pattern:/^[7]\d{8}$/,minLength:9,maxLength:9,example:"712345678"},"+41":{pattern:/^[7-9]\d{8}$/,minLength:9,maxLength:9,example:"781234567"},"+27":{pattern:/^[6-9]\d{8}$/,minLength:9,maxLength:9,example:"812345678"}},d=(I,r)=>r.find(p=>p.code===I),je=({onBack:I})=>{var Q,_,H,V,Y,K,X,J;const[r,p]=m.useState({businessName:"",ownerName:"",mobileCountryCode:"+91",mobileNumber:"",whatsappCountryCode:"+91",whatsappNumber:"",emailAddress:"",password:"",confirmPassword:"",gstNumber:"",fullBusinessAddress:"",city:"",state:"",pincode:"",proofFile:null}),[n,h]=m.useState({}),[R,k]=m.useState(!1),[ae,re]=m.useState(!1),O=m.useRef(null),[z,ne]=m.useState(null),[x,le]=m.useState(!1),[w,S]=m.useState(!1),[j,A]=m.useState(!1),[o,G]=m.useState([]),[y,C]=m.useState([]),[v,L]=m.useState([]),[f,P]=m.useState(""),[b,N]=m.useState(""),[E,T]=m.useState(!0),M=m.useRef(null),U=m.useRef(null);m.useEffect(()=>{(async()=>{try{T(!0);const i=(await(await fetch("https://restcountries.com/v3.1/all?fields=name,cca2,flag,flags,idd")).json()).filter(l=>{var c,g,$;return((c=l.idd)==null?void 0:c.root)&&(($=(g=l.idd)==null?void 0:g.suffixes)==null?void 0:$.length)>0}).map(l=>{var $;const c=l.idd.root+(l.idd.suffixes[0]||""),g=Ne[c]||{pattern:/^\d{8,15}$/,minLength:8,maxLength:15,example:"1234567890"};return{code:c,country:l.cca2,name:l.name.common,flag:l.flag||"ðŸ³ï¸",flagUrl:(($=l.flags)==null?void 0:$.png)||`https://flagcdn.com/w40/${l.cca2.toLowerCase()}.png`,pattern:g.pattern,minLength:g.minLength,maxLength:g.maxLength,example:g.example,uniqueId:`${c}-${l.cca2}`}}).sort((l,c)=>l.name.localeCompare(c.name));G(i),C(i),L(i)}catch(t){console.error("Error fetching countries:",t);const a=[{code:"+1",country:"US",name:"United States",flag:"ðŸ‡ºðŸ‡¸",flagUrl:"https://flagcdn.com/w40/us.png",pattern:/^\d{10}$/,minLength:10,maxLength:10,example:"1234567890",uniqueId:"+1-US"},{code:"+91",country:"IN",name:"India",flag:"ðŸ‡®ðŸ‡³",flagUrl:"https://flagcdn.com/w40/in.png",pattern:/^[6-9]\d{9}$/,minLength:10,maxLength:10,example:"9876543210",uniqueId:"+91-IN"},{code:"+44",country:"GB",name:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§",flagUrl:"https://flagcdn.com/w40/gb.png",pattern:/^[1-9]\d{9,10}$/,minLength:10,maxLength:11,example:"7123456789",uniqueId:"+44-GB"}];G(a),C(a),L(a)}finally{T(!1)}})()},[]),m.useEffect(()=>{if(!o.length){C([]);return}if(!f||f.trim()===""){C(o);return}const s=f.toLowerCase().trim(),t=o.filter(a=>a.name.toLowerCase().includes(s)||a.code.toLowerCase().includes(s)||a.code.replace("+","").includes(s)||a.country.toLowerCase().includes(s));C(t)},[f,o]),m.useEffect(()=>{if(!o.length){L([]);return}if(!b||b.trim()===""){L(o);return}const s=b.toLowerCase().trim(),t=o.filter(a=>a.name.toLowerCase().includes(s)||a.code.toLowerCase().includes(s)||a.code.replace("+","").includes(s)||a.country.toLowerCase().includes(s));L(t)},[b,o]),m.useEffect(()=>{const s=t=>{M.current&&!M.current.contains(t.target)&&S(!1),U.current&&!U.current.contains(t.target)&&A(!1)};return(w||j)&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[w,j]);const u=s=>{const{name:t,value:a}=s.target;if(t==="mobileNumber"){const i=a.replace(/\D/g,""),l=d(r.mobileCountryCode,o);l&&i.length<=l.maxLength?(p(c=>({...c,[t]:i})),x&&p(c=>({...c,whatsappNumber:i}))):l||(p(c=>({...c,[t]:i.slice(0,15)})),x&&p(c=>({...c,whatsappNumber:i.slice(0,15)})))}else if(t==="whatsappNumber"){if(x)return;const i=a.replace(/\D/g,""),l=d(r.whatsappCountryCode,o);l&&i.length<=l.maxLength?p(c=>({...c,[t]:i})):l||p(c=>({...c,[t]:i.slice(0,15)}))}else if(t==="pincode"){const i=a.replace(/\D/g,"").slice(0,6);p(l=>({...l,[t]:i}))}else p(i=>({...i,[t]:a}));n[t]&&h(i=>({...i,[t]:void 0}))},oe=s=>{const t=d(s,o);p(a=>({...a,mobileCountryCode:s})),t&&P(t.name),S(!1),n.mobileNumber&&h(a=>({...a,mobileNumber:void 0})),n.mobileCountryCode&&h(a=>({...a,mobileCountryCode:void 0})),x&&(p(a=>({...a,whatsappCountryCode:s})),N((t==null?void 0:t.name)||""))},ie=s=>{const t=d(s,o);p(a=>({...a,whatsappCountryCode:s})),t&&N(t.name),A(!1),n.whatsappNumber&&h(a=>({...a,whatsappNumber:void 0})),n.whatsappCountryCode&&h(a=>({...a,whatsappCountryCode:void 0}))},me=s=>{var a;const t=(a=s.target.files)==null?void 0:a[0];if(t){if(!t.type.startsWith("image/")){h(l=>({...l,proofFile:"Please upload an image file"}));return}if(t.size>5*1024*1024){h(l=>({...l,proofFile:"File size must be less than 5MB"}));return}p(l=>({...l,proofFile:t})),h(l=>({...l,proofFile:void 0}));const i=new FileReader;i.onloadend=()=>{ne(i.result)},i.readAsDataURL(t)}},ce=()=>{const s={};if(r.businessName.trim()||(s.businessName="Business name is required"),r.ownerName.trim()||(s.ownerName="Owner name is required"),r.mobileCountryCode||(s.mobileCountryCode="Country code is required"),!r.mobileNumber.trim())s.mobileNumber="Mobile number is required";else{const t=r.mobileNumber.trim();if(o.length>0){const a=d(r.mobileCountryCode,o);a?a.minLength===a.maxLength?t.length!==a.minLength?s.mobileNumber=`Mobile number must be exactly ${a.minLength} digits`:a.pattern.test(t)||(s.mobileNumber=`Invalid mobile number format. Example: ${a.example}`):t.length<a.minLength||t.length>a.maxLength?s.mobileNumber=`Mobile number must be ${a.minLength}-${a.maxLength} digits`:a.pattern.test(t)||(s.mobileNumber=`Invalid mobile number format. Example: ${a.example}`):(t.length<8||t.length>15)&&(s.mobileNumber="Please enter a valid mobile number (8-15 digits)")}else(t.length<8||t.length>15)&&(s.mobileNumber="Please enter a valid mobile number (8-15 digits)")}if(r.whatsappCountryCode||(s.whatsappCountryCode="Country code is required"),!r.whatsappNumber.trim())s.whatsappNumber="WhatsApp number is required";else{const t=r.whatsappNumber.trim();if(o.length>0){const a=d(r.whatsappCountryCode,o);a?a.minLength===a.maxLength?t.length!==a.minLength?s.whatsappNumber=`WhatsApp number must be exactly ${a.minLength} digits`:a.pattern.test(t)||(s.whatsappNumber=`Invalid WhatsApp number format. Example: ${a.example}`):t.length<a.minLength||t.length>a.maxLength?s.whatsappNumber=`WhatsApp number must be ${a.minLength}-${a.maxLength} digits`:a.pattern.test(t)||(s.whatsappNumber=`Invalid WhatsApp number format. Example: ${a.example}`):(t.length<8||t.length>15)&&(s.whatsappNumber="Please enter a valid WhatsApp number (8-15 digits)")}else(t.length<8||t.length>15)&&(s.whatsappNumber="Please enter a valid WhatsApp number (8-15 digits)")}return r.emailAddress.trim()?/\S+@\S+\.\S+/.test(r.emailAddress)||(s.emailAddress="Invalid email address"):s.emailAddress="Email address is required",r.password?r.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",r.confirmPassword!==r.password&&(s.confirmPassword="Passwords do not match"),r.gstNumber.trim()&&r.gstNumber.length!==15&&(s.gstNumber="GST number must be 15 characters"),r.fullBusinessAddress.trim()||(s.fullBusinessAddress="Full business address is required"),r.city.trim()||(s.city="City is required"),r.state.trim()||(s.state="State is required"),r.pincode.trim()?r.pincode.length!==6&&(s.pincode="Pincode must be 6 digits"):s.pincode="Pincode is required",r.proofFile||(s.proofFile="Please upload a proof (visiting card or shop photo)"),h(s),Object.keys(s).length===0},de=async s=>{if(s.preventDefault(),!ce()){const t=Object.keys(n)[0],a=document.querySelector(`[name="${t}"]`);a&&a.scrollIntoView({behavior:"smooth",block:"center"});return}k(!0);try{const t=new FormData;t.append("businessName",r.businessName),t.append("ownerName",r.ownerName),t.append("mobileNumber",`${r.mobileCountryCode}${r.mobileNumber}`),t.append("whatsappNumber",`${r.whatsappCountryCode}${r.whatsappNumber}`),t.append("emailAddress",r.emailAddress),t.append("password",r.password),t.append("gstNumber",r.gstNumber||""),t.append("fullBusinessAddress",r.fullBusinessAddress),t.append("city",r.city),t.append("state",r.state),t.append("pincode",r.pincode),r.proofFile&&t.append("proofFile",r.proofFile);const a=await fetch(`${ge}/auth/submit-print-partner-request`,{method:"POST",body:t}),i=await a.json();if(!a.ok){k(!1),alert(i.message||"Failed to submit request. Please try again.");return}re(!0),k(!1)}catch(t){console.error(t),k(!1),alert("Server error. Please try again.")}},pe=s=>{if(le(s),s){p(a=>({...a,whatsappCountryCode:a.mobileCountryCode,whatsappNumber:a.mobileNumber}));const t=d(r.mobileCountryCode,o);t&&N(t.name)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"font-serif text-2xl sm:text-3xl md:text-4xl font-bold text-cream-900",children:"Print Partner"}),e.jsx("p",{className:"mt-2 text-sm sm:text-base text-cream-600",children:"Register as a print partner to start your business journey"})]}),e.jsxs("form",{className:"mt-8 space-y-4",onSubmit:de,children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"businessName",className:"block text-sm font-medium text-cream-700 mb-1",children:["Business Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Z,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"businessName",name:"businessName",type:"text",value:r.businessName,onChange:u,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.businessName?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"Enter business name"})]}),n.businessName&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.businessName})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-cream-700 mb-1",children:["Owner Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ue,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"ownerName",name:"ownerName",type:"text",value:r.ownerName,onChange:u,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.ownerName?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"Enter owner name"})]}),n.ownerName&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.ownerName})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"mobileNumber",className:"block text-sm font-medium text-cream-700 mb-1",children:["Mobile Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",ref:M,children:[e.jsxs("button",{type:"button",onClick:()=>{const s=!w;if(S(s),s&&r.mobileCountryCode&&!f){const t=d(r.mobileCountryCode,o);t&&P(t.name)}},className:`flex items-center gap-2 px-3 py-3 border ${n.mobileCountryCode?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all bg-white min-w-[140px] justify-between hover:bg-cream-50`,children:[e.jsx("span",{className:"flex items-center gap-2",children:E?e.jsx(F,{className:"h-4 w-4 animate-spin text-cream-400"}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:((Q=d(r.mobileCountryCode,o))==null?void 0:Q.flagUrl)||"https://flagcdn.com/w40/in.png",alt:((_=d(r.mobileCountryCode,o))==null?void 0:_.name)||"Country",className:"w-6 h-4 object-cover rounded",onError:s=>{var a;const t=s.target;t.src=`https://flagcdn.com/w40/${((a=d(r.mobileCountryCode,o))==null?void 0:a.country.toLowerCase())||"in"}.png`}}),e.jsx("span",{className:"font-medium",children:r.mobileCountryCode})]})}),e.jsx(ee,{className:`h-4 w-4 text-cream-400 transition-transform ${w?"rotate-180":""}`})]}),e.jsx(W,{children:w&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>S(!1)}),e.jsxs(q.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute z-50 mt-1 w-72 bg-white border border-cream-200 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"p-2 border-b border-cream-200",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",placeholder:"Search country or code...",value:f,onChange:s=>P(s.target.value),className:"w-full px-3 py-2 pl-9 pr-8 border border-cream-200 rounded-lg text-sm text-cream-900 focus:outline-none focus:ring-2 focus:ring-cream-900 transition-all",autoFocus:!0}),e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-cream-400"}),f&&e.jsx("button",{type:"button",onClick:()=>P(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-cream-400 hover:text-cream-900 transition-colors",children:e.jsx(se,{className:"h-4 w-4"})})]})}),f&&y.length>0&&e.jsxs("p",{className:"text-xs text-cream-500 mt-1 px-1",children:[y.length," ",y.length===1?"country":"countries"," found"]})]}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"400px"},children:E?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(F,{className:"h-6 w-6 animate-spin text-cream-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-cream-600",children:"Loading countries..."})]}):y.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-sm text-cream-600",children:"No countries found"})}):e.jsx("div",{className:"p-2",children:y.map((s,t)=>e.jsxs("button",{type:"button",onClick:()=>oe(s.code),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-cream-50 transition-colors text-left ${r.mobileCountryCode===s.code?"bg-cream-100 border border-cream-300":""}`,children:[e.jsx("img",{src:s.flagUrl,alt:s.name,className:"w-8 h-6 object-cover rounded flex-shrink-0",onError:a=>{const i=a.target;i.src=`https://flagcdn.com/w40/${s.country.toLowerCase()}.png`}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"font-medium text-cream-900 text-sm",children:[s.name," (",s.code,")"]})}),r.mobileCountryCode===s.code&&e.jsx(D,{className:"h-4 w-4 text-cream-900 flex-shrink-0"})]},s.uniqueId||`${s.code}-${s.country}-${t}`))})})]})]})})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"mobileNumber",name:"mobileNumber",type:"tel",value:r.mobileNumber,onChange:u,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.mobileNumber?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:((H=d(r.mobileCountryCode,o))==null?void 0:H.example)||"1234567890",maxLength:((V=d(r.mobileCountryCode,o))==null?void 0:V.maxLength)||15})]})]}),n.mobileNumber&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.mobileNumber}),n.mobileCountryCode&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.mobileCountryCode}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"sameAsMobile",checked:x,onChange:s=>pe(s.target.checked),className:"w-4 h-4 text-cream-900 border-cream-300 rounded focus:ring-cream-900"}),e.jsx("label",{htmlFor:"sameAsMobile",className:"text-sm text-cream-700 cursor-pointer",children:"Same as mobile number"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"whatsappNumber",className:"block text-sm font-medium text-cream-700 mb-1",children:["WhatsApp Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",ref:U,children:[e.jsxs("button",{type:"button",onClick:()=>{if(x)return;const s=!j;if(A(s),s&&r.whatsappCountryCode&&!b){const t=d(r.whatsappCountryCode,o);t&&N(t.name)}},disabled:x,className:`flex items-center gap-2 px-3 py-3 border ${n.whatsappCountryCode?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all bg-white min-w-[140px] justify-between hover:bg-cream-50 ${x?"bg-cream-100 cursor-not-allowed opacity-75":""}`,children:[e.jsx("span",{className:"flex items-center gap-2",children:E?e.jsx(F,{className:"h-4 w-4 animate-spin text-cream-400"}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:((Y=d(r.whatsappCountryCode,o))==null?void 0:Y.flagUrl)||"https://flagcdn.com/w40/in.png",alt:((K=d(r.whatsappCountryCode,o))==null?void 0:K.name)||"Country",className:"w-6 h-4 object-cover rounded",onError:s=>{var a;const t=s.target;t.src=`https://flagcdn.com/w40/${((a=d(r.whatsappCountryCode,o))==null?void 0:a.country.toLowerCase())||"in"}.png`}}),e.jsx("span",{className:"font-medium",children:r.whatsappCountryCode})]})}),e.jsx(ee,{className:`h-4 w-4 text-cream-400 transition-transform ${j?"rotate-180":""}`})]}),e.jsx(W,{children:j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>A(!1)}),e.jsxs(q.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute z-50 mt-1 w-72 bg-white border border-cream-200 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"p-2 border-b border-cream-200",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",placeholder:"Search country or code...",value:b,onChange:s=>N(s.target.value),className:"w-full px-3 py-2 pl-9 pr-8 border border-cream-200 rounded-lg text-sm text-cream-900 focus:outline-none focus:ring-2 focus:ring-cream-900 transition-all",autoFocus:!0}),e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-cream-400"}),b&&e.jsx("button",{type:"button",onClick:()=>N(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-cream-400 hover:text-cream-900 transition-colors",children:e.jsx(se,{className:"h-4 w-4"})})]})}),b&&v.length>0&&e.jsxs("p",{className:"text-xs text-cream-500 mt-1 px-1",children:[v.length," ",v.length===1?"country":"countries"," found"]})]}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"400px"},children:E?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(F,{className:"h-6 w-6 animate-spin text-cream-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-cream-600",children:"Loading countries..."})]}):v.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-sm text-cream-600",children:"No countries found"})}):e.jsx("div",{className:"p-2",children:v.map((s,t)=>e.jsxs("button",{type:"button",onClick:()=>ie(s.code),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-cream-50 transition-colors text-left ${r.whatsappCountryCode===s.code?"bg-cream-100 border border-cream-300":""}`,children:[e.jsx("img",{src:s.flagUrl,alt:s.name,className:"w-8 h-6 object-cover rounded flex-shrink-0",onError:a=>{const i=a.target;i.src=`https://flagcdn.com/w40/${s.country.toLowerCase()}.png`}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"font-medium text-cream-900 text-sm",children:[s.name," (",s.code,")"]})}),r.whatsappCountryCode===s.code&&e.jsx(D,{className:"h-4 w-4 text-cream-900 flex-shrink-0"})]},s.uniqueId||`${s.code}-${s.country}-${t}`))})})]})]})})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"whatsappNumber",name:"whatsappNumber",type:"tel",value:r.whatsappNumber,onChange:u,disabled:x,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.whatsappNumber?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all ${x?"bg-cream-100 cursor-not-allowed opacity-75":""}`,placeholder:((X=d(r.whatsappCountryCode,o))==null?void 0:X.example)||"1234567890",maxLength:((J=d(r.whatsappCountryCode,o))==null?void 0:J.maxLength)||15})]})]}),n.whatsappNumber&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.whatsappNumber}),n.whatsappCountryCode&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.whatsappCountryCode})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"emailAddress",className:"block text-sm font-medium text-cream-700 mb-1",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(xe,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"emailAddress",name:"emailAddress",type:"email",value:r.emailAddress,onChange:u,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.emailAddress?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"business@example.com"})]}),n.emailAddress&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.emailAddress})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-cream-700 mb-1",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(te,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:u,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.password?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"******"})]}),n.password&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.password})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-cream-700 mb-1",children:["Confirm Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(te,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:u,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.confirmPassword?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"******"})]}),n.confirmPassword&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.confirmPassword})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"gstNumber",className:"block text-sm font-medium text-cream-700 mb-1",children:["GST Number ",e.jsx("span",{className:"text-cream-500 text-xs",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Z,{className:"h-5 w-5 text-cream-400"})}),e.jsx("input",{id:"gstNumber",name:"gstNumber",type:"text",value:r.gstNumber,onChange:u,maxLength:15,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.gstNumber?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"15-character GST number"})]}),n.gstNumber&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.gstNumber})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullBusinessAddress",className:"block text-sm font-medium text-cream-700 mb-1",children:["Full Business Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-3 left-3 flex items-start pointer-events-none",children:e.jsx(he,{className:"h-5 w-5 text-cream-400"})}),e.jsx("textarea",{id:"fullBusinessAddress",name:"fullBusinessAddress",value:r.fullBusinessAddress,onChange:u,rows:3,className:`appearance-none relative block w-full px-3 py-3 pl-10 border ${n.fullBusinessAddress?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all resize-none`,placeholder:"Enter complete business address"})]}),n.fullBusinessAddress&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.fullBusinessAddress})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-cream-700 mb-1",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"city",name:"city",type:"text",value:r.city,onChange:u,className:`appearance-none relative block w-full px-3 py-3 border ${n.city?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"City"}),n.city&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.city})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-cream-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"state",name:"state",type:"text",value:r.state,onChange:u,className:`appearance-none relative block w-full px-3 py-3 border ${n.state?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"State"}),n.state&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.state})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"pincode",className:"block text-sm font-medium text-cream-700 mb-1",children:["Pincode ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"pincode",name:"pincode",type:"text",value:r.pincode,onChange:u,maxLength:6,className:`appearance-none relative block w-full px-3 py-3 border ${n.pincode?"border-red-300 focus:ring-red-500":"border-cream-200 focus:ring-cream-900"} placeholder-cream-300 text-cream-900 rounded-xl focus:outline-none focus:ring-1 sm:text-sm transition-all`,placeholder:"123456"}),n.pincode&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.pincode})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"proofFile",className:"block text-sm font-medium text-cream-700 mb-1",children:["Upload Proof (Visiting card or shop photo) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"proofFile",name:"proofFile",type:"file",ref:O,onChange:me,accept:"image/*",className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>{var s;return(s=O.current)==null?void 0:s.click()},className:`w-full px-4 py-3 border-2 border-dashed rounded-xl transition-all ${n.proofFile?"border-red-300 bg-red-50":r.proofFile?"border-green-300 bg-green-50":"border-cream-300 bg-cream-50 hover:border-cream-900 hover:bg-cream-100"}`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[e.jsx(fe,{className:`h-8 w-8 ${n.proofFile?"text-red-400":r.proofFile?"text-green-600":"text-cream-400"}`}),e.jsx("span",{className:`text-sm ${n.proofFile?"text-red-600":r.proofFile?"text-green-700":"text-cream-600"}`,children:r.proofFile?r.proofFile.name:"Click to upload visiting card or shop photo"}),r.proofFile&&e.jsxs("span",{className:"text-xs text-cream-500",children:[(r.proofFile.size/1024/1024).toFixed(2)," MB"]})]})})]}),n.proofFile&&e.jsxs("p",{className:"mt-1 text-xs text-red-500 flex items-center gap-1",children:[e.jsx(be,{className:"h-3 w-3"}),n.proofFile]}),z&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:z,alt:"Proof preview",className:"max-w-full h-auto max-h-48 rounded-lg border border-cream-200"})})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:R,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-xl text-cream-50 bg-cream-900 hover:bg-cream-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cream-500 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed",children:R?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"animate-spin h-5 w-5 mr-2"}),"Submitting..."]}):"Submit Request"})})]}),e.jsx(W,{children:ae&&e.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(D,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-cream-900 mb-4",children:"Request Submitted Successfully!"}),e.jsxs("div",{className:"space-y-3 text-left mb-6",children:[e.jsx("p",{className:"text-sm text-cream-700",children:"Your request has been submitted successfully."}),e.jsx("p",{className:"text-sm text-cream-700",children:"Our verification team will review your details."}),e.jsx("p",{className:"text-sm text-cream-700",children:"You will receive an update within one working day via Call, WhatsApp, SMS, or Email."})]}),e.jsx("button",{onClick:I,className:"w-full bg-cream-900 text-cream-50 py-3 px-4 rounded-xl font-medium hover:bg-cream-800 transition-colors",children:"Back to Login"})]})})})]})};export{je as default};
