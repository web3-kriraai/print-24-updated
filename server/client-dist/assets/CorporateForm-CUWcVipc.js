import{r as u,j as e,L as w,A as y}from"./index-DXPJfMvS.js";const z=({onBack:v,onSuccess:p})=>{const[r,x]=u.useState({organizationName:"",organizationType:"",authorizedPersonName:"",designation:"",mobileNumber:"",whatsappNumber:"",officialEmail:"",gstNumber:"",fullAddress:"",city:"",state:"",pincode:"",password:"",confirmPassword:"",proofFile:null}),[s,l]=u.useState({}),[f,c]=u.useState(!1),b=["PRIVATE_LIMITED","LLP","LIMITED","GOVERNMENT","HOSPITAL","SCHOOL","INSTITUTE","NGO","FRANCHISE","OTHER"],h=["PURCHASE_MANAGER","MARKETING_HEAD","ADMIN","FINANCE_MANAGER","DIRECTOR","OTHER"],i=a=>{const{name:t,value:n}=a.target;x(o=>({...o,[t]:n})),s[t]&&l(o=>({...o,[t]:""}))},g=a=>{var n;const t=(n=a.target.files)==null?void 0:n[0];if(t){if(!t.type.startsWith("image/")){l(o=>({...o,proofFile:"Please upload an image file"}));return}if(t.size>5*1024*1024){l(o=>({...o,proofFile:"File size must be less than 5MB"}));return}x(o=>({...o,proofFile:t})),l(o=>({...o,proofFile:""}))}},N=()=>{const a={};return r.organizationName.trim()||(a.organizationName="Organization name is required"),r.organizationType||(a.organizationType="Organization type is required"),r.authorizedPersonName.trim()||(a.authorizedPersonName="Authorized person name is required"),r.designation||(a.designation="Designation is required"),r.mobileNumber.trim()||(a.mobileNumber="Mobile number is required"),r.officialEmail.trim()?/\S+@\S+\.\S+/.test(r.officialEmail)||(a.officialEmail="Invalid email address"):a.officialEmail="Official email is required",r.gstNumber.trim()||(a.gstNumber="GST number is required"),r.fullAddress.trim()||(a.fullAddress="Full address is required"),r.city.trim()||(a.city="City is required"),r.state.trim()||(a.state="State is required"),r.pincode.trim()?r.pincode.length!==6&&(a.pincode="Pincode must be 6 digits"):a.pincode="Pincode is required",r.password?r.password.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",r.confirmPassword!==r.password&&(a.confirmPassword="Passwords do not match"),r.proofFile||(a.proofFile="Please upload proof document"),l(a),Object.keys(a).length===0},j=async a=>{if(a.preventDefault(),!!N()){c(!0);try{const t=new FormData;Object.entries(r).forEach(([d,m])=>{(d==="proofFile"&&m||d!=="proofFile"&&d!=="confirmPassword")&&t.append(d,m)});const n=await fetch(`${y}/auth/submit-corporate-request`,{method:"POST",body:t}),o=await n.json();if(!n.ok){alert(o.message||"Failed to submit request. Please try again."),c(!1);return}p(r.officialEmail)}catch(t){console.error(t),alert("Server error. Please try again."),c(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"font-serif text-2xl sm:text-3xl font-bold text-cream-900",children:"Corporate Registration"}),e.jsx("p",{className:"mt-2 text-sm text-cream-600",children:"Register your organization for corporate pricing"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Organization Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"organizationName",value:r.organizationName,onChange:i,className:`w-full px-3 py-3 border ${s.organizationName?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Enter organization name"}),s.organizationName&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.organizationName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Organization Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"organizationType",value:r.organizationType,onChange:i,className:`w-full px-3 py-3 border ${s.organizationType?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,children:[e.jsx("option",{value:"",children:"Select type"}),b.map(a=>e.jsx("option",{value:a,children:a.replace(/_/g," ")},a))]}),s.organizationType&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.organizationType})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Authorized Person Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"authorizedPersonName",value:r.authorizedPersonName,onChange:i,className:`w-full px-3 py-3 border ${s.authorizedPersonName?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Enter authorized person name"}),s.authorizedPersonName&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.authorizedPersonName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Designation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"designation",value:r.designation,onChange:i,className:`w-full px-3 py-3 border ${s.designation?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,children:[e.jsx("option",{value:"",children:"Select designation"}),h.map(a=>e.jsx("option",{value:a,children:a.replace(/_/g," ")},a))]}),s.designation&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.designation})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Mobile Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"mobileNumber",value:r.mobileNumber,onChange:i,className:`w-full px-3 py-3 border ${s.mobileNumber?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Mobile number"}),s.mobileNumber&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.mobileNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:"WhatsApp Number"}),e.jsx("input",{name:"whatsappNumber",value:r.whatsappNumber,onChange:i,className:"w-full px-3 py-3 border border-cream-200 rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900",placeholder:"WhatsApp number"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Official Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"officialEmail",type:"email",value:r.officialEmail,onChange:i,className:`w-full px-3 py-3 border ${s.officialEmail?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Official email"}),s.officialEmail&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.officialEmail})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["GST Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"gstNumber",value:r.gstNumber,onChange:i,className:`w-full px-3 py-3 border ${s.gstNumber?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"GST number"}),s.gstNumber&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.gstNumber})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Full Office Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"fullAddress",value:r.fullAddress,onChange:i,className:`w-full px-3 py-3 border ${s.fullAddress?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Full address"}),s.fullAddress&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.fullAddress})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"city",value:r.city,onChange:i,className:`w-full px-3 py-3 border ${s.city?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"City"}),s.city&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.city})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"state",value:r.state,onChange:i,className:`w-full px-3 py-3 border ${s.state?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"State"}),s.state&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.state})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Pincode ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"pincode",value:r.pincode,onChange:i,maxLength:6,className:`w-full px-3 py-3 border ${s.pincode?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Pincode"}),s.pincode&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.pincode})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"password",type:"password",value:r.password,onChange:i,className:`w-full px-3 py-3 border ${s.password?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Password"}),s.password&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.password})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Confirm Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:i,className:`w-full px-3 py-3 border ${s.confirmPassword?"border-red-300":"border-cream-200"} rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900`,placeholder:"Confirm password"}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.confirmPassword})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-cream-700 mb-1",children:["Upload Proof (Letterhead/PO/ID) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"w-full px-3 py-3 border border-cream-200 rounded-xl focus:outline-none focus:ring-1 focus:ring-cream-900"}),s.proofFile&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.proofFile})]}),e.jsx("button",{type:"submit",disabled:f,className:"w-full bg-cream-900 text-cream-50 py-3 rounded-xl font-medium hover:bg-cream-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-5 w-5 animate-spin"}),"Submitting..."]}):"Submit for Verification"})]})]})};export{z as default};
